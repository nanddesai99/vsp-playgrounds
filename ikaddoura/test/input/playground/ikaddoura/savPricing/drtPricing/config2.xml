<?xml version="1.0" ?>
<!DOCTYPE config SYSTEM "http://www.matsim.org/files/dtd/config_v2.dtd">
<config>

	<module name="network" >
		<param name="inputNetworkFile" value="network2.xml" />
	</module>
	
	<module name="plans" >
		 <param name="inputPlansFile" value="population-car+taxi.xml" />
	</module>
	
	<module name="controler">
		<param name="outputDirectory" value="" />
		<param name="eventsFileFormat" value="xml" />
		<param name="mobsim" value="qsim" />
		<param name="firstIteration" value="0" />
		<param name="lastIteration" value="5" />
		<param name="snapshotFormat" value="otfvis" />
		<param name="writeSnapshotsInterval" value="0" />
		<param name="writeEventsInterval" value="1" />
		<param name="writePlansInterval" value="0" />
	</module>
	
	<module name="qsim">
		<param name="simStarttimeInterpretation" value="onlyUseStarttime" />
		<param name="insertingWaitingVehiclesBeforeDrivingVehicles" value="true" />
		<param name="snapshotStyle" value="queue" />
						
		<param name="flowCapacityFactor" value="1.00" />
		<param name="storageCapacityFactor" value="1.00" />
	</module>
	
	<module name="strategy">

		<param name="fractionOfIterationsToDisableInnovation" value="0.8" />	
	
		<parameterset type="strategysettings">
			<param name="strategyName" value="BestScore" />
			<param name="weight" value="0.9" />
		</parameterset>
		
		<parameterset type="strategysettings">
			<param name="strategyName" value="ReRoute" />
			<param name="weight" value="0.1" />
		</parameterset>
	
	</module>
	
	<module name="planCalcScore">
	
		<param name="performing" value="6.0" />

		<parameterset type="activityParams">
			<param name="activityType" value="home" />
			<param name="typicalDuration" value="16:00:00" />
		</parameterset>
		
		<parameterset type="activityParams">
			<param name="activityType" value="work" />
			<param name="typicalDuration" value="08:00:00" />
			<param name="openingTime" value="06:00:00" />
			<param name="latestStartTime" value="09:00:00" />
			<param name="closingTime" value="18:00:00" />
		</parameterset>
		
		<parameterset type="activityParams">
			<param name="activityType" value="noise_sensitive" />
			<param name="typicalDuration" value="08:00:00" />
			<param name="openingTime" value="06:00:00" />
			<param name="latestStartTime" value="09:00:00" />
			<param name="closingTime" value="18:00:00" />
		</parameterset>

		<parameterset type="modeParams">
			<param name="constant" value="-0.0" />
			<param name="marginalUtilityOfDistance_util_m" value="-0.01" />
			<param name="marginalUtilityOfTraveling_util_hr" value="-0.0" />
			<param name="mode" value="car" />
			<param name="monetaryDistanceRate" value="-0.01" />	
		</parameterset>
			
		<parameterset type="modeParams">	
			<param name="constant" value="-0.0" />
			<param name="marginalUtilityOfDistance_util_m" value="-0.0" />
			<param name="marginalUtilityOfTraveling_util_hr" value="-0.0" />
			<param name="mode" value="drt_optimizer" />
			<param name="monetaryDistanceRate" value="-0.01" />
		</parameterset>
		
		<parameterset type="modeParams">
			<param name="constant" value="-0.0" />
			<param name="marginalUtilityOfDistance_util_m" value="-0.0" />
			<param name="marginalUtilityOfTraveling_util_hr" value="-0.0" />
			<param name="mode" value="drt" />
			<param name="monetaryDistanceRate" value="0.0" />
		</parameterset>
		
	</module>
	
	<module name="dvrp">
	</module>
	
	<module name="drt" >
		<!-- Mode which will be handled by PassengerEngine and VrpOptimizer (passengers'/customers' perspective) -->
		<param name="mode" value="drt" />
		<!-- If true, the startLink is changed to last link in the current schedule, so the taxi starts the next day at the link where it stopped operating the day before. False by default. -->
		<param name="changeStartLinkToLastLinkInSchedule" value="false" />
		<!-- Beeline distance factor for DRT. Used in analyis and in plans file. The default value is 1.3. -->
		<param name="estimatedBeelineDistanceFactor" value="1.3" />
		<!-- Beeline-speed estimate for DRT. Used in analysis, optimisation constraints and in plans file, [m/s]. The default value is 25 km/h -->
		<param name="estimatedDrtSpeed" value="8.333333333333334" />
		<!-- Idle vehicles return to the nearest of all start links. See: Vehicle.getStartLink() -->
		<param name="idleVehiclesReturnToDepots" value="false" />
		<!-- Defines the slope of the maxTravelTime estimation function (optimisation constraint), i.e. maxTravelTimeAlpha * estimated_drt_travel_time + maxTravelTimeBeta. Alpha should not be smaller than 1. -->
		<param name="maxTravelTimeAlpha" value="1.5" />
		<!-- Defines the shift of the maxTravelTime estimation function (optimisation constraint), i.e. maxTravelTimeAlpha * estimated_drt_travel_time + maxTravelTimeBeta. Beta should not be smaller than 0. -->
		<param name="maxTravelTimeBeta" value="1200.0" />
		<!-- Max wait time for the bus to come (optimisation constraint). -->
		<param name="maxWaitTime" value="1200.0" />
		<!-- Maximum desired walk distance (in meters) to next stop location in stopbased system. If no suitable stop is found in that range, the search radius will be extended in steps of maxWalkDistance until a stop is found. -->
		<param name="maxWalkDistance" value="0.0" />
		<!-- Number of threads used for parallel evaluation of request insertion into existing schedules. Scales well up to 4, due to path data provision, the most computationally intensive part, using up to 4 threads. Default value is 'min(4, no. of cores available to JVM)' -->
		<param name="numberOfThreads" value="1" />
		<!-- Operational Scheme, either door2door or stopbased. door2door by default -->
		<param name="operationalScheme" value="door2door" />
		<!-- Prints detailed warnings for DRT customers that cannot be served or routed. Default is false. -->
		<param name="plotDetailedWarnings" value="true" />
		<!-- If true, the max travel and wait times of a submitted request are considered hard constraints (the request gets rejected if one of the constraints is violated). If false, the max travel and wait times are considered soft constraints (insertion of a request that violates one of the constraints is allowed, but its cost is increased by additional penalty to make it relatively less attractive). Penalisation of insertions can be customised by injecting a customised InsertionCostCalculator.PenaltyCalculator -->
		<param name="requestRejection" value="false" />
		<!-- Bus stop duration. -->
		<param name="stopDuration" value="60.0" />
		<!-- Stop locations file (transit schedule format, but without lines) for DRT stops. Used only for the stopbased mode -->
		<param name="transitStopFile" value="null" />
		<!-- An XML file specifying the vehicle fleet. The file format according to dvrp_vehicles_v1.dtd -->
		<param name="vehiclesFile" value="taxis.xml" />
		<!-- Writes out detailed DRT customer stats in each iteration. True by default. -->
		<param name="writeDetailedCustomerStats" value="true" />
		<parameterset type="minCostFlowRebalancing" >
			<!-- size of square cells used for demand aggregation. Depends on demand, supply and network. Often used with values in the range of 500 - 2000 m -->
			<param name="cellSize" value="2000.0" />
			<!-- Specifies how often empty vehicle rebalancing is executed. 0 s means no rebalancing. Default is 1800 s. -->
			<param name="interval" value="0" />
			<!-- Maximum remaining time before busy vehicle becomes idle to be considered as soon-idle vehicle. Default is 900 s. In general should be lower than interval (e.g. 0.5 x interval) -->
			<param name="maxTimeBeforeIdle" value="900.0" />
			<!-- Minimum remaining service time of an idle/busy vehicle to be considered as rebalancable/soon-idle (respectively). Default is 3600 s. In general, should be higher than interval (e.g. 2 x interval). -->
			<param name="minServiceTime" value="3600.0" />
			<!-- alpha coefficient in linear target calculation. In general, should be lower then 1.0 to prevent over-reacting and high empty milleage. -->
			<param name="targetAlpha" value="0.5" />
			<!-- beta constant in linear target calculation. In general, should be lower then 1.0 to prevent over-reacting and high empty milleage. -->
			<param name="targetBeta" value="0.5" />
		</parameterset>
	</module>
		
	<module name="taxifare" >
		<param name="basefare" value="0.0" />
		<param name="dailySubscriptionFee" value="0.0" />
		<param name="distanceFare_m" value="0.01" />
		<param name="timeFare_h" value="0.0" />
		<param name="mode" value="drt" />
	</module>
	
	<module name="otfvis">
		<param name="coloringScheme" value="taxicab" />
		<param name="drawNonMovingItems" value="true" />
	</module>
	
	<module name="global">
		<param name="coordinateSystem" value="Atlantis" />
		<param name="numberOfThreads" value="1" />
		<param name="randomSeed" value="1499" />
	</module>
	
</config>
